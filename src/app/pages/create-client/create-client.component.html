<div class="container py-4" style="max-width: 760px;">
  <h2 class="mb-3">Create Client / Company</h2>
  <p class="text-muted mb-4">Add a new client that you can use for once-off and recurring invoices.</p>

  <form [formGroup]="form" (ngSubmit)="submit()" novalidate class="needs-validation">

    <div class="mb-3">
      <label class="form-label">Client / Company Name <span class="text-danger">*</span></label>
      <input type="text" class="form-control" formControlName="displayName" placeholder="e.g. Sample Client (Pty) Ltd">
      <div class="text-danger small" *ngIf="form.controls.displayName.touched && form.controls.displayName.invalid">
        Name is required (min 2 characters).
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Address</label>
      <textarea class="form-control" rows="3" formControlName="address" placeholder="Street, City, Code"></textarea>
    </div>

    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Email</label>
        <input type="email" class="form-control" formControlName="email" placeholder="accounts@client.co.za">
        <div class="text-danger small" *ngIf="form.controls.email.touched && form.controls.email.invalid">
          Please enter a valid email.
        </div>
      </div>
      <div class="col-md-6">
        <label class="form-label">Phone</label>
        <input type="text" class="form-control" formControlName="phone" placeholder="+27 ..">
      </div>
    </div>

    <div class="row g-3 mt-1">
      <div class="col-md-6">
        <label class="form-label">VAT Number</label>
        <input type="text" class="form-control" formControlName="vatNo" placeholder="(optional)">
      </div>
      <div class="col-md-6">
        <label class="form-label">Notes</label>
        <input type="text" class="form-control" formControlName="notes" placeholder="(optional)">
      </div>
    </div>

    <div class="d-flex align-items-center gap-2 mt-4">
      <button class="btn btn-primary" type="submit" [disabled]="saving()">
        <span *ngIf="!saving()">Save Client</span>
        <span *ngIf="saving()" class="spinner-border spinner-border-sm"></span>
      </button>
      <div *ngIf="successId()" class="text-success">Saved âœ“ (ID: {{ successId() }})</div>
      <div *ngIf="errorMsg()" class="text-danger">{{ errorMsg() }}</div>
    </div>
  </form>
</div>